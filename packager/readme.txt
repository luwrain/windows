Далее везде, все что описано для каталогов и имен файлов, в имени которых содержится x32, подразумевается сборка x86
и функционал будет полностью повторяться для каталогов содержащих x64, но при этом архитектура подразумевается x86_64

Все необходимые утилиты и пакетные файлы должны нходиться в каталоге C:\luwrain.packager\

Исходное содержимое каталога установленного приложения luwrain javafx бандла должно находиться в каталоге datafiles\bundle.x32,
а обновления java версии luwrain (jar библиотеки и data файлы) ожидаются в каталоге datafiles\bundle.x32\app.
При полной генерации установочного пакета без пропуска этапов достаточно только этого каталога app
По сути, каталог app для обоих архитектур может оказаться одинаковым, это никак не контролируется.

В скриптах первым параметром можно указать x64, по умолчанию считается x32, это определит архитектуру используемых
файлов и собираемых проектов. Временные файлы сохраняются для каждой архитектуры в отдельном каталоге и запуск
пакетных файлов для разных архитектур можно смешивать

environment.bat и jdkcheck.bat вызываемые скрипты используются для настройки переменных окружения и автоматического поиска jdk
В пакетном файле environment.bat в начале определены переменные окружения FULL_JFX_LINK и LUWRAIN_LATEST_LINK,
которые содержат ссылки на архивы, содержащие соответственно полную копию javafx бандла и java версию luwrain,
они используются в пакетных файлах автоматической загрузки. В этих архивах содержимое должно быть размещено в корневом каталоге,
имя которого начинается с luwrain-win*.

cleanup.luwrain.bat - запускает деинсталяцию установленного пакета (это удобнее чем лезть в панель управления)

1. x32 and x64 jdk check and make folder links.bat
пытается найти jdk на компьютере и создать линки в каталоге, запускать с повышенными привилегиями, имеет смысл запускать после установки или обновления версии jdk, ожидает что на машине установлена только одна версия (но обеих битностей)
единственный скрипт, который не использует параметр командной строки

2. clean temp for packager.bat
очищает каталоги от временных файлов, но не затрагивает datafiles

3a. download only jar build and unzip.bat или 3b. download full jfx bundle and unzip.bat
загружают последние версии по ссылкам соответственно для java версии luwrain и java fx бандла.
Затем распаковывает и перемещает содержимое в каталог datafiles\bundle.x32\app или datafiles\bundle.x32 соответственно
(в первом случае каталог app предварительно очищается)

4. make package using javafxpackager and ant.bat
Используя java версию luwrain из каталога datafiles\bundle.x32\app собирает предварительную версию установочного пакета
с помощью утилит javafxpackager и innosetup, используя текущую версию jdk, результат размещается в каталоге luwrain\x32\dist\bundles
Используется при обновлении jdk или пересоздании javafx бандла

5a. extract files from created installation.bat
Извлекает файлы из установочного пакета luwrain\x32\dist\bundles\Luwrain-1.0.exe путем последовательных установки, копирования и деинсталяции.
Копия установленных файлов попадает в каталог iss-fix\x32\Luwrain\
Используется при обновлении jdk или пересоздании javafx бандла
5b. replace app folder from distfiles.bat
Заменяет содержимое iss-fix\x32\Luwrain\app файлами из каталога datafiles\bundle.x32\app предварительно его очистив его
Используется при быстрых обновлениях файлов java приложения luwrain без необходимости запускать javafxpackager (jdk вообще тогда не требуется)
5c. replace full bundle from distfiles.bat
Заменяет содержимое iss-fix\x32\Luwrain файлами из каталога datafiles\bundle.x32 предварительно его очистив его

6. make fixes and call innosetup.bat
Используя innosetup собирает установочный пакет используя готовые файлы в каталоге iss-fix\x32\Luwrain

7. move and rename result install package.bat
Перемещает полученный с помощью innosetup установочный файл iss-fix\x32\Output\Luwrain-1.0.exe в корень
и переименовывает его в соответствии с номером версии, которая загружается из файла по ссылке
http://download.luwrain.org/nightly/latest/version.txt


